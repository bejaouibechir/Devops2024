# Intorduction aux namespaces

1. ```bash
   kubectl get pods
   ```
   
   **Explication** : Liste tous les pods dans le namespace par dÃ©faut.

2. ```bash
   kubectl get pods -n kube-system
   ```
   
   **Explication** : Liste tous les pods dans le namespace `kube-system`, qui contient les composants principaux du cluster Kubernetes.

**CrÃ©er un namespace**
     CrÃ©er un namespace nommÃ© `bechir` dans le cluster Kubernetes.

```bash
  kubectl create namespace bechir
```

  Tester les commandes

```bash
 kubectl get all -n bechir
 kubectl get all 
```

**CrÃ©er un nouveau dÃ©ploiement dans l'espace nom bechir**

2. ```bash
   kubectl create deploy monnginx --image nginx -n bechir
   ```

# Introduction aux contextes

### ğŸš€ **DiffÃ©rence entre Namespace et Contexte dans Kubernetes**

 **Namespace**  

- Un **namespace** est une **segmentation logique** des ressources Ã  l'intÃ©rieur d'un **mÃªme cluster**.  

- Il permet d'organiser les ressources et d'Ã©viter les conflits de noms.  

- Exemples de namespaces : `default`, `kube-system`, `dev`, `test`, `prod`.  

- Utilisation :  
  
  ```bash
  kubectl get pods --namespace=dev
  kubectl config set-context --current --namespace=dev
  ```
  
  **Contexte**  

- Un **contexte** dÃ©finit **quel cluster, utilisateur et namespace** utiliser par dÃ©faut.  

- Il sert Ã  **basculer rapidement** entre diffÃ©rents clusters ou configurations.  

- Un contexte contient :  
  
  - Un **cluster** (`kubectl config get-clusters`)  
  - Un **utilisateur** (`kubectl config get-users`)  
  - Un **namespace** par dÃ©faut (`kubectl config get-contexts`)  

- Utilisation :  
  
  ```bash
  kubectl config get-contexts  # Liste des contextes disponibles
  kubectl config use-context minikube  # Changer de contexte
  kubectl config set-context --current --namespace=dev  # Changer de namespace dans un contexte
  ```

### **RÃ©sumÃ©**

| ğŸ”¹ **Namespace**                               | ğŸ”¹ **Contexte**                                                  |
| ---------------------------------------------- | ---------------------------------------------------------------- |
| SÃ©pare les ressources **dans un mÃªme cluster** | GÃ¨re les accÃ¨s Ã  plusieurs clusters ou namespaces                |
| Un cluster peut avoir plusieurs namespaces     | Un contexte peut pointer vers **un seul namespace Ã  la fois**    |
| UtilisÃ© pour organiser les ressources          | UtilisÃ© pour basculer entre clusters, utilisateurs et namespaces |

 **Exemple concret** :  
Si tu as **un seul cluster**, tu vas surtout jouer avec les **namespaces**.  
Si tu as **plusieurs clusters** (ex : un cluster Minikube en local + un cluster en production sur AWS), tu vas utiliser les **contextes** pour changer rapidement de cluster.

### **CrÃ©er un contexte Kubernetes personalisÃ©!**

Un **contexte** est une configuration qui associe :  

1. Un **cluster**  
2. Un **utilisateur**  
3. Un **namespace** par dÃ©faut (optionnel)  

---

### **CrÃ©ation dâ€™un contexte en 3 Ã©tapes**

1ï¸ **Lister les clusters disponibles** :  

```bash
kubectl config get-clusters
```

2ï¸ **Lister les utilisateurs (credentials) disponibles** :  

```bash
kubectl config get-users
```

3ï¸ **CrÃ©er un nouveau contexte avec un cluster, un utilisateur et un namespace** :  

```bash
kubectl config set-context mon-contexte --cluster=mon-cluster --user=mon-utilisateur --namespace=dev
```

ğŸ”¹ Ici, `mon-contexte` est le nom du contexte que tu crÃ©es.  
ğŸ”¹ Remplace `mon-cluster` et `mon-utilisateur` par ceux disponibles sur ton cluster.  
ğŸ”¹ `--namespace=dev` est facultatif (sinon, `default` sera utilisÃ©).  

---

### ğŸ¯ **Utiliser et gÃ©rer les contextes**

 **Lister les contextes disponibles** :  

```bash
kubectl config get-contexts
```

 **Changer de contexte** :  

```bash
kubectl config use-context mon-contexte
```

 **Supprimer un contexte** :  

```bash
kubectl config delete-context mon-contexte
```

---

**Cas dâ€™usage**

- Si tu travailles avec plusieurs clusters (Minikube, AWS, GKE, etc.), tu peux rapidement **basculer** entre eux.  
- Si tu veux travailler dans un namespace spÃ©cifique sans le prÃ©ciser Ã  chaque commande (`kubectl get pods --namespace=dev`), un **contexte prÃ©-configurÃ©** simplifie la gestion.  

**Exemple concret**

```bash
kubectl config set-context mon-contexte --cluster=minikube --user=minikube --namespace=dev
kubectl config use-context mon-contexte
```
