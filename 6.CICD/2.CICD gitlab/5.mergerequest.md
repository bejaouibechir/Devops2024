**Généralisé:**
``` yml
stages:
  - test

test_on_merge_request:
  stage: test
  script:
    - echo "Running tests on merge request to $CI_DEFAULT_BRANCH"
    - npm install
    - npm test
  only:
    - merge_requests

```

**Spécifique:**

```yml
stages:
  - test

test_on_dev_to_main_mr:
  stage: test

  script:
    # Message de log pour identifier clairement le contexte d'exécution
    - echo "Running tests for merge request from dev to main"

    # Installation des dépendances du projet
    - npm install

    # Exécution de la suite de tests
    - npm test

  rules:
    # Le job s'exécute uniquement si :
    # - le pipeline est déclenché par une merge request
    # - la branche source est 'dev'
    # - la branche cible est 'main'
    - if: '$CI_PIPELINE_SOURCE == "merge_request_event" &&
           $CI_MERGE_REQUEST_SOURCE_BRANCH_NAME == "dev" &&
           $CI_MERGE_REQUEST_TARGET_BRANCH_NAME == "main"'
      when: on_success

    # Dans tous les autres cas, le job ne s'exécute pas
    - when: never
```
