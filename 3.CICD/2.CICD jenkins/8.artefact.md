D'accord, je vais te donner un exemple complet pour gÃ©nÃ©rer un artefact Ã  partir d'un projet Spring Boot, le dÃ©ployer sur GitLab, et le traiter avec un pipeline Jenkins.

**Configurer le pipeline :**
   - Dans la section "Pipeline", utiliser le script suivant :
     ```groovy
     pipeline {
         agent any 
         
         stages {
             stage('Checkout') {
                 steps {
                     git 'https://gitlab.com/ton-utilisateur/ton-projet.git'
                 }
             }
             
             stage('Build') {
                 steps {
                     sh './mvnw clean package'
                 }
             }
             
             stage('Archive Artifacts') {
                 steps {
                     archiveArtifacts artifacts: 'target/*.jar', fingerprint: true
                 }
             }
         }
     }
     ```
>Note: Ces fichiers deviennent tÃ©lÃ©chargeables depuis **Jenkins > Build > Artifacts.**


Une fois les **artefacts archivÃ©s** dans Jenkins, tu peux les utiliser de diffÃ©rentes maniÃ¨res selon ton objectif : **dÃ©ploiement, transfert vers un autre job, stockage, etc.**  

---

 **TÃ©lÃ©charger l'artefact manuellement**
 
###  **Depuis l'interface Jenkins**  
L'artefact Ã  tÃ©lÃ©charger sera telechargeable via un lien dans la page principal des builds du job en question

---

**RÃ©utiliser l'artefact dans un autre stage (mÃªme pipeline)**

Si tu veux **utiliser lâ€™artefact dans un autre stage** (exemple : **dÃ©ploiement**), utilise `sh` pour lâ€™exÃ©cuter :  

```groovy
stage('Deploy') {
    steps {
        sh 'java -jar target/*.jar'
    }
}
```
 **Cela exÃ©cute l'application Java localement aprÃ¨s le build.**

---

**Partager lâ€™artefact avec un autre job Jenkins**
Si tu veux qu'un **autre job Jenkins** rÃ©cupÃ¨re cet artefact, utilise **`copyArtifacts`**.

### ** 3.1. Dans le premier job (`jobA`), archive lâ€™artefact**
```groovy
pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                sh 'mvn clean package'
                archiveArtifacts artifacts: 'target/*.war', fingerprint: true
            }
        }
    }
}
```

### ** 3.2. Dans le deuxiÃ¨me job (`jobB`), rÃ©cupÃ©rer lâ€™artefact**
```groovy
pipeline {
    agent any
    stages {
        stage('Retrieve Artifact') {
            steps {
                copyArtifacts projectName: 'jobA', filter: 'target/*.war'
                sh 'ls -la target/'  // VÃ©rifier que l'artefact est bien copiÃ©
            }
        }
    }
}
```
 **Cela copie lâ€™artefact de `jobA` vers `jobB`**.
> **Note importante:** il faut installer le plugin **Copy Artefact** sinon une erreur va Ãªtre signalÃ©e 
---

## ** 4. DÃ©ployer lâ€™artefact sur un serveur distant**
Si tu veux **dÃ©ployer ton artefact sur un serveur distant**, utilise **`scp`** ou **rsync** :

```groovy
stage('Deploy to Server') {
    steps {
        sh 'scp target/*.jar user@remote-server:/opt/apps/'
    }
}
```
ğŸ”¹ **Remplace `user@remote-server` par ton serveur rÃ©el.**  

---

## ** 5. Pousser l'artefact vers un repository Nexus / Artifactory**
Si tu veux **stocker ton artefact** dans un **repository Nexus ou Artifactory**, configure **Maven Deploy Plugin** (`pom.xml`) :

```xml
<distributionManagement>
    <repository>
        <id>nexus-repo</id>
        <url>http://nexus.example.com/repository/maven-releases/</url>
    </repository>
</distributionManagement>
```

Puis ajoute un **stage Jenkins** :
```groovy
stage('Publish to Nexus') {
    steps {
        sh 'mvn deploy'
    }
}
```
ğŸ”¹ **L'artefact sera stockÃ© et pourra Ãªtre rÃ©cupÃ©rÃ© facilement.**

---

## ** Conclusion**
 **TÃ©lÃ©charger** depuis lâ€™interface Jenkins  
 **ExÃ©cuter** directement (`java -jar target/*.jar`)  
 **Partager** entre jobs Jenkins (`copyArtifacts`)  
 **DÃ©ployer** sur un serveur distant (`scp`, `rsync`)  
 **Stocker** sur Nexus/Artifactory (`mvn deploy`)  

Une alternative est d'utiliser stash et unstash :

``` groovy
stage('Build') {
    steps {
        sh 'mvn clean package'
        stash includes: 'target/*.war', name: 'war-file'
    }
}

stage('Retrieve Artifact') {
    steps {
        unstash 'war-file'
        sh 'ls -la target/'  // VÃ©rifier l'artefact
    }
}
```



